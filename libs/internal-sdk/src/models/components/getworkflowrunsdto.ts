/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod";
import { safeParse } from "../../lib/schemas.js";
import { ClosedEnum } from "../../types/enums.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";
import {
  WorkflowRunStepsDetailsDto,
  WorkflowRunStepsDetailsDto$inboundSchema,
  WorkflowRunStepsDetailsDto$Outbound,
  WorkflowRunStepsDetailsDto$outboundSchema,
} from "./workflowrunstepsdetailsdto.js";

/**
 * Workflow run status
 */
export const Status = {
  Success: "success",
  Error: "error",
  Pending: "pending",
  Skipped: "skipped",
  Canceled: "canceled",
  Merged: "merged",
} as const;
/**
 * Workflow run status
 */
export type Status = ClosedEnum<typeof Status>;

export type GetWorkflowRunsDto = {
  /**
   * Workflow run id
   */
  id: string;
  /**
   * Workflow identifier
   */
  workflowId: string;
  /**
   * Workflow name
   */
  workflowName: string;
  /**
   * Organization identifier
   */
  organizationId: string;
  /**
   * Environment identifier
   */
  environmentId: string;
  /**
   * Internal subscriber identifier
   */
  internalSubscriberId: string;
  /**
   * External subscriber identifier
   */
  subscriberId?: string | undefined;
  /**
   * Workflow run status
   */
  status: Status;
  /**
   * Trigger identifier
   */
  triggerIdentifier: string;
  /**
   * Transaction identifier
   */
  transactionId: string;
  /**
   * Creation timestamp
   */
  createdAt: string;
  /**
   * Update timestamp
   */
  updatedAt: string;
  /**
   * Workflow run steps
   */
  steps: Array<WorkflowRunStepsDetailsDto>;
};

/** @internal */
export const Status$inboundSchema: z.ZodNativeEnum<typeof Status> = z
  .nativeEnum(Status);

/** @internal */
export const Status$outboundSchema: z.ZodNativeEnum<typeof Status> =
  Status$inboundSchema;

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace Status$ {
  /** @deprecated use `Status$inboundSchema` instead. */
  export const inboundSchema = Status$inboundSchema;
  /** @deprecated use `Status$outboundSchema` instead. */
  export const outboundSchema = Status$outboundSchema;
}

/** @internal */
export const GetWorkflowRunsDto$inboundSchema: z.ZodType<
  GetWorkflowRunsDto,
  z.ZodTypeDef,
  unknown
> = z.object({
  id: z.string(),
  workflowId: z.string(),
  workflowName: z.string(),
  organizationId: z.string(),
  environmentId: z.string(),
  internalSubscriberId: z.string(),
  subscriberId: z.string().optional(),
  status: Status$inboundSchema,
  triggerIdentifier: z.string(),
  transactionId: z.string(),
  createdAt: z.string(),
  updatedAt: z.string(),
  steps: z.array(WorkflowRunStepsDetailsDto$inboundSchema),
});

/** @internal */
export type GetWorkflowRunsDto$Outbound = {
  id: string;
  workflowId: string;
  workflowName: string;
  organizationId: string;
  environmentId: string;
  internalSubscriberId: string;
  subscriberId?: string | undefined;
  status: string;
  triggerIdentifier: string;
  transactionId: string;
  createdAt: string;
  updatedAt: string;
  steps: Array<WorkflowRunStepsDetailsDto$Outbound>;
};

/** @internal */
export const GetWorkflowRunsDto$outboundSchema: z.ZodType<
  GetWorkflowRunsDto$Outbound,
  z.ZodTypeDef,
  GetWorkflowRunsDto
> = z.object({
  id: z.string(),
  workflowId: z.string(),
  workflowName: z.string(),
  organizationId: z.string(),
  environmentId: z.string(),
  internalSubscriberId: z.string(),
  subscriberId: z.string().optional(),
  status: Status$outboundSchema,
  triggerIdentifier: z.string(),
  transactionId: z.string(),
  createdAt: z.string(),
  updatedAt: z.string(),
  steps: z.array(WorkflowRunStepsDetailsDto$outboundSchema),
});

/**
 * @internal
 * @deprecated This namespace will be removed in future versions. Use schemas and types that are exported directly from this module.
 */
export namespace GetWorkflowRunsDto$ {
  /** @deprecated use `GetWorkflowRunsDto$inboundSchema` instead. */
  export const inboundSchema = GetWorkflowRunsDto$inboundSchema;
  /** @deprecated use `GetWorkflowRunsDto$outboundSchema` instead. */
  export const outboundSchema = GetWorkflowRunsDto$outboundSchema;
  /** @deprecated use `GetWorkflowRunsDto$Outbound` instead. */
  export type Outbound = GetWorkflowRunsDto$Outbound;
}

export function getWorkflowRunsDtoToJSON(
  getWorkflowRunsDto: GetWorkflowRunsDto,
): string {
  return JSON.stringify(
    GetWorkflowRunsDto$outboundSchema.parse(getWorkflowRunsDto),
  );
}

export function getWorkflowRunsDtoFromJSON(
  jsonString: string,
): SafeParseResult<GetWorkflowRunsDto, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => GetWorkflowRunsDto$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'GetWorkflowRunsDto' from JSON`,
  );
}
